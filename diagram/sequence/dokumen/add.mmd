sequenceDiagram
    actor Admin as Admin
    participant CP as Control Panel
    participant API as Backend API
    participant REPO as Document Repository
    participant EMBEDDING as Embedding Service
    participant DB as Database
    participant OBJECT_STORAGE as MinIO Service
    participant VECTOR_DATABASE as OpenSearch Service

    Admin->>CP: 1. Pilih menu dokumen
    CP->>API: 2. GET Request /documents
    API->>REPO: 3. getAllDocuments()
    REPO->>DB: 4. Query data Document
    DB-->>REPO: 5. Data Document
    REPO-->>API: 5.1 Data Document
    API-->>CP: 5.2 Data Document
    CP->>Admin: 6. Menampilkan data dokumen
    Admin->>CP: 7. Klik tombol "Tambah Dokumen"
    CP->>Admin: 8. Menampilkan form tambah dokumen
    Admin->>CP: 9. Input data dokumen
    CP->>API: 10. POST Request /documents
    API->>OBJECT_STORAGE: 11. Upload file ke MinIO
    API->>REPO: 12. createDocument()
    REPO->>DB: 13. Insert metadata dokumen dan path ke MinIO
    DB-->>REPO: 14. Pesan berhasil tambah dokumen
    REPO-->>API: 14.1 Pesan berhasil tambah dokumen
    API->>EMBEDDING: 15. Embed dokumen
    API->>VECTOR_DATABASE: 16. Simpan embedding dokumen
    API->>REPO: 17. updateDocumentStatus()
    REPO->>DB: 18. Update status dokumen
    DB-->>REPO: 19. Pesan berhasil update status dokumen
    REPO-->>API: 19.1 Pesan berhasil update status dokumen
    API-->>CP: 19.2 Pesan berhasil update status dokumen
    CP->>Admin: 20. Menampilkan pesan berhasil update status dokumen
    CP->>Admin: 21. Redirect ke halaman dokumen